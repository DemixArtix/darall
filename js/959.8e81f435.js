"use strict";(self["webpackChunkdarall"]=self["webpackChunkdarall"]||[]).push([[959],{2959:function(e,r,a){a.r(r),a.d(r,{default:function(){return $}});var t=a(3396),o=a(9242),l=a(7139);const s={class:"container flex justify-center"},n={class:"btn btn-success w-100",type:"submit"};function i(e,r,a,i,u,d){const p=(0,t.up)("Input"),m=(0,t.up)("router-link");return(0,t.wg)(),(0,t.iD)("div",s,[(0,t._)("form",{class:"max-w-[400px] min-w-[300px]",onSubmit:r[3]||(r[3]=(0,o.iM)((r=>e.auth(r)),["prevent"])),novalidate:""},[(0,t.Wm)(p,{class:"mb-3",placeholder:"Логин",error:e.v$.login.$error,label:"Логин",id:"login",modelValue:e.form.login,"onUpdate:modelValue":r[0]||(r[0]=r=>e.form.login=r)},null,8,["error","modelValue"]),(0,t.Wm)(p,{class:"mb-3",placeholder:"Пароль",error:e.v$.password.$error,label:"Пароль",id:"password",modelValue:e.form.password,"onUpdate:modelValue":r[1]||(r[1]=r=>e.form.password=r),type:"password"},null,8,["error","modelValue"]),"register"===e.$route.name?((0,t.wg)(),(0,t.j4)(p,{key:0,class:"mb-3",placeholder:"Повторить пароль",error:e.v$.passwordRepeat.$error,label:"Повторить пароль",id:"password-repeat",modelValue:e.form.passwordRepeat,"onUpdate:modelValue":r[2]||(r[2]=r=>e.form.passwordRepeat=r),type:"password"},null,8,["error","modelValue"])):(0,t.kq)("",!0),(0,t._)("button",n,(0,l.zw)("login"===e.$route.name?"Вход":"Регистрация"),1),(0,t.Wm)(m,{class:"text-green block mt-2",to:""+("register"===e.$route.name?"/login":"/register")},{default:(0,t.w5)((()=>[(0,t.Uk)((0,l.zw)("register"===e.$route.name?"Вход":"Регистрация"),1)])),_:1},8,["to"])],32)])}var u=a(7493),d=a(4870),p=a(3053),m=a(9117),c=a(65),w=a(2483),g=(0,t.aZ)({name:"index",components:{Input:u.Z},setup(e,r){(0,w.tv)();const a=(0,w.yj)(),o=(0,c.oR)(),l=(0,d.qj)({login:"",password:"",passwordRepeat:""}),s=(0,t.Fl)((()=>{let e={login:{required:m.C1,minLengthValue:(0,m.Ei)(2)},password:{required:m.C1,minLengthValue:(0,m.Ei)(4)}};return"register"===a.name&&(e.passwordRepeat={minLengthValue:(0,m.Ei)(4),isEqual:e=>e==l.password,required:m.C1}),e}));let n=(0,p.Xw)(s,l);async function i(e){if(await n.value.$validate(),!n.value.$invalid)if("register"===a.name){let e=await o.dispatch("user/onRegister",l);e&&n.value.$reset()}else{let r=await o.dispatch("user/onLogin",l);r&&n.value.$reset(),e.target.reset(),await o.dispatch("init")}}return{form:l,auth:i,v$:n}}}),f=a(89);const v=(0,f.Z)(g,[["render",i]]);var $=v}}]);
//# sourceMappingURL=959.8e81f435.js.map